<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sticky Debug Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        
        .debug-info {
            background: #f0f0f0;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        
        /* 最基本的sticky测试 */
        .test-container {
            width: 100%;
            overflow-x: auto;
            border: 2px solid #333;
            margin-bottom: 30px;
        }
        
        .test-table {
            width: 100%;
            min-width: 800px;
            border-collapse: separate;
            border-spacing: 0;
            background: white;
        }
        
        .test-table th,
        .test-table td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }
        
        .test-table th {
            background: #f5f5f5;
        }
        
        /* 第一列sticky */
        .test-table th:first-child,
        .test-table td:first-child {
            position: sticky;
            left: 0;
            background: #ffeb3b !important;
            z-index: 10;
            border-right: 3px solid #ff5722;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        }
        
        /* 表头特殊处理 */
        .test-table thead th:first-child {
            background: #ffc107 !important;
            z-index: 11;
        }
        
        /* 调试标记 */
        .test-table th:first-child::after,
        .test-table td:first-child::after {
            content: " [STICKY]";
            color: red;
            font-weight: bold;
            font-size: 10px;
        }
    </style>
</head>
<body>
    <h1>Sticky Position 调试测试</h1>
    
    <div class="debug-info">
        <h3>测试说明：</h3>
        <ul>
            <li>第一列应该有黄色背景和红色右边框</li>
            <li>第一列应该显示 "[STICKY]" 标记</li>
            <li>水平滚动时第一列应该保持固定</li>
            <li>如果第一列跟随滚动，说明sticky功能失效</li>
        </ul>
        <p><strong>浏览器支持检测：</strong></p>
        <p id="sticky-support">检测中...</p>
    </div>
    
    <h2>测试 1: 基本 Sticky 表格</h2>
    <div class="test-container">
        <table class="test-table">
            <thead>
                <tr>
                    <th>固定列 (Name)</th>
                    <th>列 2</th>
                    <th>列 3</th>
                    <th>列 4</th>
                    <th>列 5</th>
                    <th>列 6</th>
                    <th>列 7</th>
                    <th>列 8</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>行 1 - 固定</td>
                    <td>数据 1-2</td>
                    <td>数据 1-3</td>
                    <td>数据 1-4</td>
                    <td>数据 1-5</td>
                    <td>数据 1-6</td>
                    <td>数据 1-7</td>
                    <td>数据 1-8</td>
                </tr>
                <tr>
                    <td>行 2 - 固定</td>
                    <td>数据 2-2</td>
                    <td>数据 2-3</td>
                    <td>数据 2-4</td>
                    <td>数据 2-5</td>
                    <td>数据 2-6</td>
                    <td>数据 2-7</td>
                    <td>数据 2-8</td>
                </tr>
                <tr>
                    <td>行 3 - 固定</td>
                    <td>数据 3-2</td>
                    <td>数据 3-3</td>
                    <td>数据 3-4</td>
                    <td>数据 3-5</td>
                    <td>数据 3-6</td>
                    <td>数据 3-7</td>
                    <td>数据 3-8</td>
                </tr>
                <tr>
                    <td>行 4 - 固定</td>
                    <td>数据 4-2</td>
                    <td>数据 4-3</td>
                    <td>数据 4-4</td>
                    <td>数据 4-5</td>
                    <td>数据 4-6</td>
                    <td>数据 4-7</td>
                    <td>数据 4-8</td>
                </tr>
                <tr>
                    <td>行 5 - 固定</td>
                    <td>数据 5-2</td>
                    <td>数据 5-3</td>
                    <td>数据 5-4</td>
                    <td>数据 5-5</td>
                    <td>数据 5-6</td>
                    <td>数据 5-7</td>
                    <td>数据 5-8</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <script>
        // 检测浏览器对sticky的支持
        function checkStickySupport() {
            const testElement = document.createElement('div');
            testElement.style.position = 'sticky';
            
            const supportElement = document.getElementById('sticky-support');
            
            if (testElement.style.position === 'sticky') {
                supportElement.innerHTML = '✅ 浏览器支持 position: sticky';
                supportElement.style.color = 'green';
            } else {
                supportElement.innerHTML = '❌ 浏览器不支持 position: sticky';
                supportElement.style.color = 'red';
            }
            
            // 额外检测
            const userAgent = navigator.userAgent;
            supportElement.innerHTML += '<br>浏览器信息: ' + userAgent;
            
            // 检测CSS属性
            const computedStyle = window.getComputedStyle(document.querySelector('.test-table th:first-child'));
            supportElement.innerHTML += '<br>实际position值: ' + computedStyle.position;
            supportElement.innerHTML += '<br>实际left值: ' + computedStyle.left;
            supportElement.innerHTML += '<br>实际z-index值: ' + computedStyle.zIndex;
        }
        
        // 页面加载后执行检测
        window.addEventListener('load', checkStickySupport);
        
        // 滚动事件监听
        document.querySelector('.test-container').addEventListener('scroll', function(e) {
            console.log('表格滚动位置:', e.target.scrollLeft);
        });
    </script>
</body>
</html>