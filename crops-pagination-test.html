<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crops Pagination Test</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/crops-sticky.css">
</head>
<body>
    <div class="container" style="padding: 20px;">
        <h1>Crops Table Pagination Test</h1>
        <p>æµ‹è¯•åˆ†é¡µåŠŸèƒ½ï¼šæ¯é¡µæ˜¾ç¤º30è¡Œä½œç‰©ä¿¡æ¯ï¼Œæ€»è®¡106ä¸ªä½œç‰©åº”è¯¥åˆ†ä¸º4é¡µã€‚</p>
        
        <!-- Filter Section -->
        <div class="filter-section">
            <div class="filter-controls">
                <div class="filter-group">
                    <label class="filter-label">Search:</label>
                    <input type="text" id="crops-search" placeholder="Search crops..." class="search-input">
                </div>
                <div class="filter-group">
                    <label class="filter-label">Category:</label>
                    <select id="category-filter" class="filter-select">
                        <option value="">All Categories</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Sort:</label>
                    <select id="sort-filter" class="filter-select">
                        <option value="name">By Name</option>
                        <option value="sellValue">By Value</option>
                        <option value="rarity">By Rarity</option>
                    </select>
                </div>
            </div>
            
            <!-- Statistics -->
            <div class="filter-stats">
                <span id="filter-results">Showing 0 results</span>
                <span class="filter-divider">|</span>
                <span id="total-crops">Total 0 crops</span>
            </div>
        </div>
        
        <!-- Crop Display Area -->
        <div class="crops-container">
            <!-- Table View -->
            <div class="crops-table" id="crops-table">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Category</th>
                            <th>Tier</th>
                            <th>Sheckle Price</th>
                            <th>Robux Price</th>
                            <th>Minimum Value</th>
                            <th>Multi-Harvest</th>
                            <th>Obtainable</th>
                        </tr>
                    </thead>
                    <tbody id="crops-table-body">
                        <!-- Table rows will be generated dynamically via JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Empty State -->
            <div class="empty-state" id="empty-state" style="display: none;">
                <span class="empty-icon">ğŸ”</span>
                <h3>No matching crops found</h3>
                <p>Try adjusting your filter criteria or search terms</p>
            </div>
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination">
            <!-- Pagination controls will be generated dynamically via JavaScript -->
        </div>
        
        <div style="margin-top: 20px;">
            <p><strong>æµ‹è¯•è¯´æ˜ï¼š</strong></p>
            <ul>
                <li>åº”è¯¥æ˜¾ç¤ºåˆ†é¡µæ§ä»¶ï¼ˆå¦‚æœæ•°æ®è¶…è¿‡30æ¡ï¼‰</li>
                <li>ç¬¬ä¸€é¡µæ˜¾ç¤ºå‰30ä¸ªä½œç‰©</li>
                <li>ç‚¹å‡»é¡µç å¯ä»¥åˆ‡æ¢é¡µé¢</li>
                <li>åˆ†é¡µä¿¡æ¯æ˜¾ç¤ºå½“å‰é¡µé¢èŒƒå›´</li>
                <li>ç­›é€‰ååˆ†é¡µåº”è¯¥é‡ç½®åˆ°ç¬¬ä¸€é¡µ</li>
                <li>ç¬¬ä¸€åˆ—Nameåº”è¯¥ä¿æŒstickyå›ºå®š</li>
            </ul>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/utils.js"></script>
    <script src="js/data-manager.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
    
    <script>
        // åˆå§‹åŒ–åº”ç”¨å¹¶æµ‹è¯•åˆ†é¡µåŠŸèƒ½
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                console.log('ğŸ§ª Starting pagination test...');
                
                // åˆ›å»ºåº”ç”¨å®ä¾‹
                window.app = new App();
                
                // åˆå§‹åŒ–åº”ç”¨
                await window.app.init();
                
                // æ¸²æŸ“cropsé¡µé¢
                await window.app.renderCropsPage();
                
                // è®¾ç½®é¡µé¢äº¤äº’
                window.app.setupCropsPageInteractions();
                
                console.log('âœ… Pagination test initialized successfully');
                
                // æ˜¾ç¤ºåˆ†é¡µçŠ¶æ€ä¿¡æ¯
                setTimeout(() => {
                    if (window.app.cropsPagination) {
                        const { currentPage, totalPages, totalItems, itemsPerPage } = window.app.cropsPagination;
                        console.log(`ğŸ“„ Pagination Status:
                            - Current Page: ${currentPage}
                            - Total Pages: ${totalPages}
                            - Total Items: ${totalItems}
                            - Items Per Page: ${itemsPerPage}`);
                    }
                }, 1000);
                
            } catch (error) {
                console.error('âŒ Failed to initialize pagination test:', error);
            }
        });
    </script>
</body>
</html>